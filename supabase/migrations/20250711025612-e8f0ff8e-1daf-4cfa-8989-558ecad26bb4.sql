-- Add realistic property data for Nexus Mint platform with correct values
INSERT INTO properties (
  title, 
  description, 
  location, 
  address,
  city,
  country,
  property_type,
  price, 
  price_per_token,
  total_tokens,
  tokens_issued,
  min_investment,
  bedrooms,
  bathrooms,
  sqft,
  year_built,
  images,
  amenities,
  is_active,
  is_featured,
  tokenization_active,
  tokenization_status,
  funding_target,
  funding_deadline
) VALUES 
(
  'Marina Bay Luxury Apartments',
  'Prime waterfront luxury apartments in Dubai Marina with stunning sea views and world-class amenities. This prestigious development offers premium rental yields and strong capital appreciation potential.',
  'Dubai Marina, UAE',
  'Marina Walk, Dubai Marina',
  'Dubai',
  'UAE',
  'apartment',
  2500000,
  25,
  100000,
  25000,
  100,
  2,
  2,
  1200,
  2022,
  '["https://images.unsplash.com/photo-1512917774080-9991f1c4c750", "https://images.unsplash.com/photo-1600596542815-ffad4c1539a9", "https://images.unsplash.com/photo-1600607687939-ce8a6c25118c"]',
  '["Swimming Pool", "Gym", "Concierge", "Parking", "Sea View", "Balcony", "24/7 Security"]',
  true,
  true,
  true,
  'available',
  1500000,
  '2024-12-31'
),
(
  'Business Bay Office Tower',
  'Modern commercial office tower in Dubai Business Bay, featuring premium office spaces with excellent connectivity and investment potential.',
  'Business Bay, Dubai',
  'Business Bay Boulevard',
  'Dubai', 
  'UAE',
  'office',
  3800000,
  38,
  100000,
  15000,
  100,
  null,
  null,
  1800,
  2023,
  '["https://images.unsplash.com/photo-1486406146926-c627a92ad1ab", "https://images.unsplash.com/photo-1545324418-cc1a3fa10c00", "https://images.unsplash.com/photo-1560472354-b33ff0c44a43"]',
  '["Office Spaces", "Retail", "Parking", "Metro Access", "Conference Rooms", "High-Speed Internet"]',
  true,
  true,
  true,
  'available',
  2200000,
  '2024-11-30'
),
(
  'Downtown Luxury Penthouse',
  'Exclusive luxury penthouse in the heart of Downtown Dubai, offering unparalleled views of Burj Khalifa and Dubai Fountain with premium amenities and services.',
  'Downtown Dubai, UAE',
  'Mohammed Bin Rashid Boulevard',
  'Dubai',
  'UAE', 
  'penthouse',
  4200000,
  42,
  100000,
  8000,
  100,
  3,
  4,
  2200,
  2021,
  '["https://images.unsplash.com/photo-1545324418-cc1a3fa10c00", "https://images.unsplash.com/photo-1582268611958-ebfd161ef9cf", "https://images.unsplash.com/photo-1560472354-b33ff0c44a43"]',
  '["Burj Khalifa View", "Dubai Fountain View", "Valet Parking", "Spa", "Fine Dining", "Concierge", "Private Elevator"]',
  true,
  true,
  true,
  'tokenizing',
  3000000,
  '2024-10-31'
),
(
  'Palm Jumeirah Villa',
  'Stunning beachfront villa on the iconic Palm Jumeirah with private beach access, infinity pool, and panoramic views of Dubai skyline and Arabian Gulf.',
  'Palm Jumeirah, Dubai',
  'Golden Mile, Palm Jumeirah',
  'Dubai',
  'UAE',
  'villa',
  8500000,
  85,
  100000,
  5000,
  100,
  5,
  6,
  4500,
  2020,
  '["https://images.unsplash.com/photo-1613490493576-7fde63acd811", "https://images.unsplash.com/photo-1600566753376-12c8ab7fb75b", "https://images.unsplash.com/photo-1600607687939-ce8a6c25118c"]',
  '["Private Beach", "Infinity Pool", "Marina", "Garden", "Staff Quarters", "Home Cinema", "Wine Cellar"]',
  true,
  true,
  true,
  'tokenized',
  6000000,
  '2024-09-30'
),
(
  'Abu Dhabi Waterfront Apartments',
  'Premium waterfront development in Abu Dhabi Corniche featuring luxury apartments with marina access and world-class amenities in the capital city.',
  'Corniche, Abu Dhabi',
  'Corniche Road West',
  'Abu Dhabi',
  'UAE',
  'apartment',
  1800000,
  18,
  100000,
  45000,
  100,
  2,
  2,
  950,
  2023,
  '["https://images.unsplash.com/photo-1512917774080-9991f1c4c750", "https://images.unsplash.com/photo-1600596542815-ffad4c1539a9", "https://images.unsplash.com/photo-1545324418-cc1a3fa10c00"]',
  '["Marina Access", "Gym", "Pool", "Beach Access", "Parking", "Concierge", "Retail"]',
  true,
  false,
  true,
  'available',
  1200000,
  '2024-08-31'
),
(
  'Emirates Hills Estate',
  'Ultra-luxury golf course estate in Emirates Hills, Dubai''s most prestigious gated community, offering privacy, exclusivity and unmatched luxury.',
  'Emirates Hills, Dubai',
  'Emirates Hills Drive',
  'Dubai',
  'UAE',
  'villa',
  15000000,
  150,
  100000,
  2000,
  100,
  7,
  8,
  8000,
  2019,
  '["https://images.unsplash.com/photo-1613490493576-7fde63acd811", "https://images.unsplash.com/photo-1600566753376-12c8ab7fb75b", "https://images.unsplash.com/photo-1600607687939-ce8a6c25118c"]',
  '["Golf Course View", "Private Pool", "Tennis Court", "Staff Quarters", "Security", "Garden", "Garage"]',
  true,
  true,
  true,
  'tokenized',
  10000000,
  '2024-07-31'
);

-- Add token supply data for the new properties
INSERT INTO token_supply (
  property_id,
  total_supply,
  available_supply,
  reserved_supply,
  token_price,
  minimum_investment,
  maximum_investment
) 
SELECT 
  id,
  total_tokens,
  total_tokens - COALESCE(tokens_issued, 0),
  COALESCE(tokens_issued, 0),
  price_per_token,
  min_investment,
  price_per_token * 10000
FROM properties 
WHERE tokenization_active = true 
AND id NOT IN (SELECT property_id FROM token_supply WHERE property_id IS NOT NULL);